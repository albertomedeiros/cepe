!function(e){"use strict";function r(e){var r=/[^@\-\.\w]|^[_@\.\-]|[\._\-]{2}|[@\.]{2}|(@)[^@]*\1/,t=/@[\w\-]+\./,s=/\.[a-zA-Z]{2,3}$/;return e.search(r)==-1&&e.search(t)!=-1&&e.search(s)!=-1}var t=e(".form .form-text");t.focus(function(){e(this).parent().addClass("form-focus")}),t.blur(function(){""==e(this).val()&&e(this).parent().removeClass("form-focus")}),t.each(function(){""==e(this).val()?e(this).parent().removeClass("form-focus"):e(this).parent().addClass("form-focus")});var s=e(".form .form-field-select select");s.change(function(){var r=e(this).find("option:selected").text(),t=e(this).parent().find(".form-text");t.text(""),""==r?e(this).parent().removeClass("form-focus"):(e(this).parent().addClass("form-focus"),t.text(r))});var o=e(".form .form-field-file input[type=file]");o.change(function(){var r=e(this).val(),t=e(this).parent().find(".form-text");t.text(""),""==r?e(this).parent().removeClass("form-focus"):(e(this).parent().addClass("form-focus"),t.text(r))}),e(".mask-phone").focusout(function(){var r,t;t=e(this),t.unmask(),r=t.val().replace(/\D/g,""),r.length>10?t.mask("(99) 99999.999?9",{autoclear:!1}):t.mask("(99) 9999.9999?9",{autoclear:!1})}).trigger("focusout"),e(".form").submit(function(){var t=e(this),s=!1,o=t.find(".form-submit").data("text");if(t.find(".form-field").removeClass("error"),t.find(".msg-success").slideUp(300),t.find(".required").each(function(t,o){var o=e(o);o.val()?"email"!=o.attr("id")||r(o.val())||(o.parent().addClass("error"),s=!0):(o.parent().addClass("error"),s=!0)}),s)t.find(".msg-error").slideDown(600);else{var a=e("#curriculo").get(0),n=new FormData(this);e("#curriculo").length>0&&n.append("curriculo",a.files[0]),n.append("json",!0),e.ajax({type:"POST",url:t.attr("action"),data:n,dataType:"json",cache:!1,contentType:!1,processData:!1,beforeSend:function(){t.find(".form-submit").val("Enviando..."),t.find(".form-submit").prop("disabled",!0),t.find(".msg-error").slideUp(800)},complete:function(){t.get(0).reset(),t.find(".form-text").text(""),t.find(".form-field").removeClass("form-focus"),t.find(".form-field").removeClass("error"),t.find(".form-submit").val(o),t.find(".form-submit").prop("disabled",!1)},success:function(e){e.success?(t.find(".msg-success").slideDown(800),setTimeout(function(){t.find(".msg-success").slideUp(800)},5e3)):t.find(".msg-error").html("Ocorreu um erro inesperado. Tente novamente mais tarde.").slideDown(600)},xhr:function(){var r=e.ajaxSettings.xhr();return r}})}return!1})}(jQuery);